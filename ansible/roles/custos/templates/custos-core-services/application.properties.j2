grpc.port={{custos_core_grpc_port}}
server.port={{custos_core_server_port}}
spring.application.name=CustosCoreServicesServer
spring.main.allow-bean-definition-overriding=true

## Hibernate Properties
# The SQL dialect makes Hibernate generate better SQL for the chosen database
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL55Dialect
spring.jpa.properties.hibernate.dialect.storage_engine=innodb
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true
# Hibernate ddl auto (create, create-drop, validate, update)
spring.jpa.hibernate.ddl-auto = update



spring.datasource.username = {{custos_core_spring_datasource_username}}
spring.datasource.password = {{custos_core_spring_datasource_password}}
spring.datasource.url = jdbc:mysql://localhost:3306/core_services_server_db?useSSL=false&serverTimezone=UTC&useLegacyDatetimeCode=false&createDatabaseIfNotExist=true
spring.profiles.active={{active_profile}}

#Keycloak properties
iam.server.admin.username={{custos_core_iam_server_admin_username}}
iam.server.admin.password={{custos_core_iam_server_admin_password}}
iam.server.truststore.password={{custos_core_iam_server_truststore_password}}
iam.server.url=https://{{ hostvars['keycloak'].ansible_host }}/auth/

mail.sender.password=test
enable.messaging.service=false

#CiLogon Properties
ciLogon.admin.client.id={{custos_core_ciLogon_admin_client_id}}
ciLogon.admin.client.secret={{custos_core_ciLogon_admin_client_secret}}
ciLogon.admin.auth.endpoint=https://test.cilogon.org/oauth2/oidc-cm
iam.server.truststore.path=/home/{{user}}/custos-deployment/Custos-Core-Services-Server-1.1-SNAPSHOT/conf/keycloak-client-truststore.pkcs12

spring.cloud.vault.token={{vault_token}}
spring.cloud.vault.scheme=http
spring.cloud.vault.host=127.0.0.1
spring.cloud.vault.port=8200

spring.cloud.vault.uri=http://127.0.0.1:8200
spring.cloud.vault.authentication=token